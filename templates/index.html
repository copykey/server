<!DOCTYPE html>
<html>
<head>
    <title>copykey</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <style type="text/css">
        td {
            padding: 5px;
        }
    </style>
</head>
<body>
<main role="main" class="container">
    <h1 class="mt-5">copykey</h1>
    <p class="lead">for optimal results, upload a three- to five-second landscape video</p>

    <form class="form-inline" method="post" action="/upload" enctype="multipart/form-data">
        <div class="custom-file form-control mb-2 mr-sm-2">
            <input type="file" name="file" class="custom-file-input" id="file">
            <label class="custom-file-label" for="file"></label>
        </div>
        <select class="custom-select mb-2 mr-sm-2" name="type">
            <option value="schlage">schlage</option>
            <option value="kwikset">kwikset</option>
            <option value="master">master</option>
        </select>

	    <button data-toggle="modal" data-target="#modal" class="btn btn-primary mb-2 mr-sm-2" type="button" style="border-radius:1000px">?</button>
        <button type="submit" class="btn btn-primary form-control mb-2 mr-sm-2">Go!</button>
    </form>

<div class="modal" id="modal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Key Types</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>We support kwikset, master, and schlage key types, which represent the vast majority of keys. To determine your key type, look down the barrel of the key and match the pattern with the images below. If you wish, you may CAD key blanks for other types and use them in this app as well.</p>
	<table border="0">
		<tr>
			<td><img src="/get/schlage.png" height="100" /></td>
			<td>Schlage</td>
		</tr>
		<tr>
			<td><img src="/get/kwikset.png" height="100" /></td>
			<td>Kwikset</td>
		</tr>
		<tr>
			<td><img src="/get/master.png" height="100" /></td>
			<td>Master</td>
		</tr>
	</table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>

    {% if result %}
    <div class="container-fluid text-center">
        <div class="row pt-4">
            <div class="col-12">
                <video width="50%" autoplay loop>
                    <source src="/get/cool_video.mp4" type="video/mp4">
                </video>
            </div>
        </div>
        <div class="row pt-4">
            <div class="col-12">
                <img width="25%" src="/get/arrow.svg"></img>
            </div>
        </div>
        <div class="row pt-4">
            <div class="col-12">
                <img width="50%" src="data:image/jpg;base64, {{img1|safe}}"></img>
            </div>
        </div>
        <div class="row pt-4">
            <div class="col-12">
                <img width="25%" src="/get/arrow.svg"></img>
            </div>
        </div>
        <div class="row pt-4">
            <div class="col-12">
                <img width="50%" src="data:image/jpg;base64, {{img2|safe}}"></img>
            </div>
        </div>
        <div class="row pt-4">
            <div class="col-12">
                <img width="15%" src="/get/arrow.svg"></img>
            </div>
        </div>
        <div class="row pt-4 mb-5">
            <div class="col-12">
                <a class="btn btn-primary btn-lg" href="/get/{{filename|safe}}" role="button">Download {{filename}}</a>
            </div>
        </div>
    </div>
    {% endif %}

</main>
</body>
</html>
